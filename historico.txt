DIÁRIO DE BORDO - PROJETO UKICEKER (VERSÃO NATIVA)
Atualização: 30/01/2026

--- OBJETIVO ESTRATÉGICO ---
Desenvolver uma plataforma de Gestão de Afiliados (Desktop) e Vitrine Virtual (Web Estática) de alta performance.
Arquitetura proprietária focada em ambiente Windows, sem dependência de containers.

--- STACK TECNOLÓGICA (ATUALIZADA) ---
1. **Interface (App):** Python 3.14.2 + CustomTkinter (Windows).
2. **Backend (Lógica):** Scripts Python (Automação/ETL).
3. **Banco de Dados:** MySQL 8.0 Community Server (Local - Porta 3306).
4. **Conexão:** TCP/IP (127.0.0.1) via `mysql-connector-python` (Pure Python).
5. **Frontend (Vitrine):** HTML5/Bootstrap (Gerado estaticamente pelo Python).

--- STATUS ATUAL DO SISTEMA ---
[OK] Banco de Dados (`ukiceker_db`) criado e estruturado.
[OK] Tabela `usuarios` com hash seguro (PBKDF2) e fluxo de primeiro acesso.
[OK] Tabela `produtos` populada com dados de teste (Shopee, ML, Ali).
[OK] Conexão Python <-> MySQL validada via usuário dedicado (`ukiceker_app`).
[OK] Tela de Login funcional com validação de hash.
[OK] Ambiente limpo (Docker removido).

--- HISTÓRICO DE DECISÕES E MARCOS (RESUMO) ---

30/01/2026 - INÍCIO E PIVOTAGEM
- **Decisão:** Abandono do WordPress e Docker em favor de desenvolvimento Desktop Nativo.
- **Motivo:** Maior controle, performance e facilidade de distribuição para o cliente final (Windows).

30/01/2026 - DEFINIÇÃO DE DADOS E SEGURANÇA
- **Estrutura:** Criação das tabelas `produtos` (vitrine) e `usuarios` (acesso).
- **Segurança:** Implementação de Hash e Salt para senhas. Usuário `teste` criado.
- **Acesso:** Configuração do usuário dedicado `ukiceker_app` com permissões restritas.

30/01/2026 - MIGRAÇÃO PARA NATIVO (WINDOWS)
- **Problema:** Instabilidade e complexidade desnecessária com Docker no Windows (erros de socket/auth).
- **Solução:** Remoção completa da camada Docker. Instalação nativa do MySQL Server.
- **Ajuste:** Scripts reconfigurados para apontar para `127.0.0.1` (TCP/IP) em vez de `localhost` (Socket), resolvendo conflitos de driver.
- **Limpeza:** Exclusão de `docker-compose.yml` e scripts de correção de container.

--- PRÓXIMOS PASSOS (ROTEIRO) ---
1. **CRUD de Produtos:** Criar tela para Adicionar, Editar e Excluir produtos diretamente pelo App.
2. **Gestão de Links:** Campo para link de afiliado e upload de imagem local ou URL.
3. **Gerador de Site:** Botão no App para disparar o script `gerar_site.py` e atualizar o HTML da vitrine.

--- ENCERRAMENTO DE SESSÃO (30/01/2026) ---
- **Conclusão:** Ambiente estabilizado, Docker removido, App Desktop conectando ao banco local.
- **Status:** Código limpo e pronto para expansão de funcionalidades (CRUD).

--- ATUALIZAÇÃO (30/01/2026 - Noite) ---
- **Implementação:** Finalização do "Modo Escuta" (Rip de Escuta) via Bookmarklet.
- **Problema:** Captura de dados via Selenium/BS4 estava sendo bloqueada por Cloudflare/Captcha.
- **Solução:** O Bookmarklet agora executa um script de varredura no navegador do usuário, copia um JSON completo da página para o clipboard. O App Desktop monitora o clipboard e processa este JSON.
- **Fluxo de Trabalho Definido:**
  1. Para uma nova plataforma (ex: Amazon), usar o Bookmarklet para gerar um `dump_analise.json`.
  2. Analisar o arquivo JSON para identificar as chaves corretas (ex: `name`, `price`, `image`).
  3. Refinar a função `monitorar_clipboard` no `main.py` para extrair os dados das chaves específicas daquela plataforma.
- **Status:** Lógica de extração para Shopee (baseada em JSON-LD) implementada e funcional. O sistema agora preenche o formulário automaticamente.

--- ENCERRAMENTO DE SESSÃO (30/01/2026 - Fim do Dia) ---
- **Progresso:** Automação completa da extração (sem clique manual) implementada no `main.py`.
- **Problema Recorrente:** O erro "Falha na Extração / Erro no carregamento" retornou durante os testes automatizados.
- **Diagnóstico Preliminar:** O script de injeção automática pode estar rodando antes da renderização completa do DOM ou sendo bloqueado, diferentemente do Bookmarklet manual que funcionava bem.
- **Ação Futura:** Revisar tempos de espera (Sleep/Wait) e considerar voltar para abordagem híbrida ou melhorar a detecção de "Página Pronta".

--- INCIDENTE GIT (30/01/2026) ---
- **Ocorrência:** Pasta de cache do navegador (`chrome_profile`) foi commitada acidentalmente, inflando o repositório.
- **Correção:** Criado script `limpar_git.bat` que executa `git rm -r --cached` para remover os arquivos do GitHub mantendo-os locais, e aplica o `.gitignore` corretamente.
- **Estado:** Repositório higienizado.